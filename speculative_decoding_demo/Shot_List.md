# Shot List for Developers: Speculative Decoding (Implementation Spec)

This document reflects the actual Vue 3 + Anime.js implementation details for the Speculative Decoding Demo.

| Scene ID | UI State (Subtitle) | Visual Action & Animation Logic (App.vue) |
| :--- | :--- | :--- |
| **01. Intro** | "å¤§æ¨¡å‹æœ‰ä¸¤ç§æ¨¡å¼ï¼šé˜…è¯»æ¨¡å¼ï¼ˆå¹¶è¡Œ/æå¿«ï¼‰ vs å†™ä½œæ¨¡å¼ï¼ˆä¸²è¡Œ/ææ…¢ï¼‰ã€‚" | **Split Screen Animation**:<br>1. **Left (Prefill)**: `#prefill-text` fades in instantly (duration: 100ms).<br>2. **Right (Decode)**: `.decode-char` elements fade in one by one (`anime.stagger(150)`). |
| **02. The Bottleneck** | "ä¸ºäº†å†™ä¸€ä¸ªå­—ï¼Œä¸»ç¼–ï¼ˆå¤§æ¨¡å‹ï¼‰è¦æŠŠ 26GB çš„å­—å…¸æ¬è¿ä¸€éã€‚" | **Truck Delivery Animation**:<br>1. **Truck**: `#truck-02` moves from left `-100%` to `0%`.<br>2. **Payload**: `#envelope-02-1` (Token) pops up from truck.<br>3. **Loop**: Truck leaves (`0%` to `150%`) and returns for next token. Repeat for "The", "cat", "sat".<br>4. **Timing**: Slow, laborious movement to emphasize latency. |
| **03. The Solution** | "è§£å†³æ–¹æ¡ˆï¼šé‡‡ç”¨ã€åä½œæ¨¡å¼ã€‘ã€‚<br>ä¸»ç¼–ï¼ˆå¤§æ¨¡å‹ï¼‰æš‚åœç”Ÿæˆå¹¶å¾…å‘½ï¼Œç”±å®ä¹ ç”Ÿï¼ˆå°æ¨¡å‹ï¼‰æ¥æ‰‹å¿«é€Ÿè‰æ‹Ÿã€‚" | **Collaboration Setup**:<br>1. **Icons**: Reveal `#intern-03` (Blue ğŸ‘·) and `#editor-03` (Purple â˜•) simultaneously.<br>2. **Drafting**: Intern throws 4 `.draft-envelope` elements (`stared`, `at`, `the`, `broken`) rapidly into the stream.<br>3. **Effect**: Fast stagger (300ms), much faster than the truck. |
| **04. Verification** | "ä¸»ç¼–å›å½’ï¼šä¸€æ¬¡æ¬è¿ï¼ŒåŒæ—¶å¹¶è¡Œæ£€æŸ¥æ‰€æœ‰è‰ç¨¿ï¼" | **Parallel Check Animation**:<br>1. **Truck Return**: `#truck-04` (Same visual as Scene 02) enters from left `-100%` and stops at center `-50%`. **Crucial**: Consistent look with Scene 02 (wheels, road), no overlap with Intern/Editor.<br>2. **Scan**: `#scan-beam-04` expands (`scaleX: [0, 1]`) covering all envelopes.<br>3. **Result**: Envelopes turn Green (`borderColor: #22c55e`) in a ripple effect.<br>4. **Subtitle**: "åˆ‡æ¢åˆ°ã€é˜…è¯»æ¨¡å¼ã€‘ï¼šæ•ˆç‡æå‡æ•°å€ã€‚" |
| **05. Accept** | "ä¸»ç¼–ç©çš„æ˜¯æ¦‚ç‡åšå¼ˆã€‚Token: 'apple'..." | **Probability Chart (Success)**:<br>1. **Bars**: `#bar-05-draft` grows to 60%, `#bar-05-target` grows to 80%.<br>2. **Logic**: Target > Draft (or sufficient confidence).<br>3. **Stamp**: `#stamp-accept` ("ACCEPTED") slams down with scale/rotate effect. |
| **06. Reject & Resample** | "Token: 'pear'ã€‚å®ä¹ ç”ŸççŒœ 99%... ä¸»ç¼–è§‰å¾—åªæœ‰ 10%... æ“¦é™¤é”™è¯¯ Token (Rollback)..." | **Probability Chart (Failure) & Rollback**:<br>1. **Bars**: `#bar-06-draft` (99%) vs `#bar-06-target` (10%).<br>2. **Stamp**: `#stamp-reject` ("REJECTED") slams down.<br>3. **Formula**: `#resample-formula` ($P'(x)$) fades in.<br>4. **Wipe Effect**: `#text-pear-container` width animates `100% -> 0%` (Visual erasure).<br>5. **KV Cache**: `#kv-pear` turns red, then shrinks to width 0 (Physical rollback).<br>6. **Correction**: `#text-peach` and `#kv-peach` fade in/expand. |
| **07. Coding Scenario** | "å†™ä»£ç ï¼ˆç®€å•åœºæ™¯ï¼‰ï¼šå®ä¹ ç”Ÿå‡ ä¹å…¨å¯¹... é€Ÿåº¦ç›´æ¥ 5 å€èµ·é£ï¼" | **High Speed Demo**:<br>1. **Content**: `#code-content` scrolls vertically (Matrix style).<br>2. **Meter**: `#needle-07` rotates to max speed (5X). |
| **08. Creative Scenario** | "å†™å°è¯´ï¼ˆå›°éš¾åœºæ™¯ï¼‰ï¼šè™½ç„¶å¸¸è¢«æ‹’... ä½†ç¨³èµšä¸èµ”ï¼Œä¾ç„¶æœ‰ 1.5 å€åŠ é€Ÿã€‚" | **Moderate Speed Demo**:<br>1. **Content**: `#novel-text` types out (`steps(30)`).<br>2. **Meter**: `#needle-08` rotates to medium speed (1.5X). |
| **09. Summary** | "æŠ•æœºè§£ç ï¼šç”¨è®¡ç®—æ¢å¸¦å®½ï¼Œç”¨æ¦‚ç‡ä¿è´¨é‡ã€‚æ˜¾å­˜æ²¡å˜ï¼Œé€Ÿåº¦èµ·é£ï¼" | **Value Proposition**:<br>1. **Icons**: Reveal 3 benefits (Reading Mode, Bandwidth, Quality).<br>2. **Final Text**: `#final-text` ("ğŸš€ 3 å€åŠ é€Ÿ") scales up with spring easing. |
